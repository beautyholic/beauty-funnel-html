<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="light only" />
  <title>Beautyholic – Terminassistenz</title>

  <style>
    :root{
      --ink:#0f172a; --muted:#475569; --border:#e2e8f0; --card:#ffffff;
      --rose-50:#fff1f2; --rose-100:#ffe4e6; --pink-50:#ffe9f7;
      --pink-500:#ec4899; --fuchsia-600:#c026d3; --brand:#111827;
      --ok:#16a34a; --danger:#ef4444;
      --bg: radial-gradient(60% 50% at 50% -10%, var(--pink-50) 0%, #fff 55%, #fff 100%);
    }
    *{box-sizing:border-box}
    body{margin:0;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;color:var(--ink);background:var(--bg)}
    a{color:inherit}
    .wrap{max-width:860px;margin:0 auto;padding:16px 16px 120px}
    .max{max-width:680px;margin:0 auto}
    .card{background:var(--card); border:1px solid var(--border); border-radius:24px; box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .header{display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid var(--border)}
    .logo{width:42px;height:42px;border-radius:12px;background:linear-gradient(135deg,#fce7f3,#fae8ff);display:grid;place-items:center;font-weight:800;color:#9d174d}
    .title{font-weight:800}
    .sub{color:var(--muted);font-size:13px}

    .grid{display:grid;gap:18px;grid-template-columns:1.2fr 2fr}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} }

    .pill{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:999px;padding:6px 10px;font-weight:600;font-size:12px;color:#64748b}
    .trust{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .trust>span{display:grid;place-items:center;border-radius:16px;background:var(--rose-50);color:#be123c;border:1px solid var(--rose-100);padding:8px 10px;font-weight:600;font-size:13px}

    .info{padding:18px}
    .info h2{margin:0 0 8px}
    .offer{background:var(--rose-50); border:1px solid var(--rose-100); border-radius:18px; padding:14px}

    .field{display:flex;flex-direction:column;gap:6px;margin:10px 0}
    .field input{height:48px;border:1px solid var(--border);border-radius:12px;padding:12px 14px;font-size:16px}
    .btn{height:48px;border-radius:12px;font-weight:700;display:grid;place-items:center;border:1px solid var(--border);color:#334155;background:#fff;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--pink-500),var(--fuchsia-600));color:#fff;border:none;box-shadow:0 8px 20px rgba(236,72,153,.35)}
    .btn:active{transform:scale(.99)}

    .slider{position:relative;width:100%;aspect-ratio:16/10;border:1px solid #e5e7eb;border-radius:16px;overflow:hidden}
    .slider img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
    .slider input[type=range]{position:absolute;left:50%;bottom:8px;transform:translateX(-50%);width:86%}
    .slider .divider{position:absolute;inset:0;width:2px;background:rgba(255,255,255,.7);left:50%;transform:translateX(-50%)}

    /* Chat */
    #chatCard{display:none;padding:0}
    .chatHead{padding:12px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px}
    .agent{width:36px;height:36px;border-radius:999px;background:linear-gradient(135deg,#fca5a5,#fb7185)}
    .chatWin{height:58vh;overflow:auto;padding:12px}
    .bubbles{display:flex;flex-direction:column;gap:8px}
    .bot{align-self:flex-start;max-width:86%;background:#fff;border:1px solid var(--border);border-radius:18px;padding:10px 12px;box-shadow:0 2px 8px rgba(0,0,0,.03)}
    .user{align-self:flex-end;max-width:86%;background:#0f172a;color:#fff;border-radius:18px;padding:10px 12px;box-shadow:0 2px 8px rgba(0,0,0,.06)}
    .options,.slots{display:flex;flex-wrap:wrap;gap:10px;margin-top:8px}
    .chip{border:1px dashed #cbd5e1;border-radius:999px;padding:9px 14px;font-weight:600;background:#fff}
    .chip[disabled]{opacity:.45;pointer-events:none}
    .slot{border:1px dashed #cbd5e1;border-radius:14px;padding:10px 14px;background:#fff;font-weight:600}
    .slot.active{border-style:solid}
    .typing{display:inline-flex;gap:4px;align-items:center}
    .dot{width:6px;height:6px;border-radius:999px;background:#94a3b8;animation:up .9s infinite}
    .dot:nth-child(2){animation-delay:.15s}.dot:nth-child(3){animation-delay:.3s}
    @keyframes up{0%,80%,100%{transform:translateY(0)}40%{transform:translateY(-3px)}}
    .glow{animation:glow 1.4s ease-out 1}
    @keyframes glow{0%{box-shadow:0 0 0 0 rgba(236,72,153,.25)}100%{box-shadow:0 0 0 0 rgba(236,72,153,0)}}
    .stickyRecap{position:sticky;top:0;z-index:5;display:flex;gap:6px;background:linear-gradient(#fff,rgba(255,255,255,.8));padding:6px 8px}
    .pillSmall{border:1px solid var(--border);border-radius:999px;padding:3px 8px;font-size:12px;color:#475569;background:#fff}
    .inputBar{display:flex;gap:8px;border-top:1px solid var(--border);padding:10px;background:#fff}
    .inputBar input{flex:1;height:44px;border:1px solid var(--border);border-radius:12px;padding:10px 12px}
    .inputBar button{width:100px;height:44px;border-radius:12px;border:none;background:#0f172a;color:#fff;font-weight:700}

    /* Bottom bar */
    .bar{position:fixed;left:0;right:0;bottom:0;z-index:30;background:rgba(255,255,255,.9);backdrop-filter:saturate(140%) blur(8px);border-top:1px solid var(--border)}
    .bar .inner{padding:12px 16px;padding-bottom:calc(12px + env(safe-area-inset-bottom));display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .grow{flex:1}
    .footLinks{font-size:12px;color:#64748b;display:flex;gap:12px}

    /* Loader Overlay */
    .overlay{position:fixed;inset:0;background:#fff;display:flex;align-items:center;justify-content:center;text-align:center;padding:22px;z-index:9999;opacity:0;pointer-events:none;transition:opacity .25s ease}
    .overlay.is-active{opacity:1;pointer-events:auto}
    .spinner{width:60px;height:60px;border:6px solid #f3f3f3;border-top:6px solid var(--brand);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 14px}
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Brand header -->
    <div class="card">
      <div class="header">
        <div class="logo">BH</div>
        <div>
          <div class="title">Beautyholic</div>
          <div class="sub">Terminassistenz – schnell & persönlich</div>
        </div>
      </div>
    </div>

    <!-- HERO / INTRO -->
    <main id="intro" class="max" aria-label="Einführung">
      <section class="card" style="padding:18px">
        <!-- Trust pills -->
        <div style="display:flex;gap:8px;flex-wrap:wrap;color:#64748b;font-size:12px;margin-bottom:10px">
          <span class="pill"><span style="width:6px;height:6px;background:#10b981;border-radius:999px"></span>Zertifiziertes Studio</span>
          <span class="pill"><span style="width:6px;height:6px;background:#ec4899;border-radius:999px"></span>Hygiene geprüft</span>
          <span class="pill"><span style="width:6px;height:6px;background:#8b5cf6;border-radius:999px"></span>Female Expert Team</span>
        </div>
        <div class="sub">⭐ 4,9&nbsp;·&nbsp;1.247 Bewertungen</div>

        <div class="grid" style="margin-top:12px">
          <!-- LEFT: Info + Leadform -->
          <div class="card info" id="left">
            <h2>Deine Behandlung</h2>
            <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:6px">
              <span class="pill">Erstberatung inkl.</span>
              <span class="pill">Dauer: 45–60 Min</span>
              <span class="pill">Preis: ab 79 €</span>
            </div>

            <h1 style="font-size:28px;line-height:1.15;margin:0">Porentief reine Haut. Ohne Downtime.</h1>
            <p style="margin-top:10px;color:var(--muted)">
              Buche dein <strong>Microneedling</strong> in <strong>Duisburg (Pares Aesthetic)</strong> – schnell, freundlich und ohne Wartezeit.
              Ideal bei vergrößerten Poren, feinen Aknenarben und Pigmentflecken.
            </p>

            <div style="display:flex;gap:10px;align-items:center;margin-top:8px;font-size:14px">
              <div aria-label="4.9 von 5 Sternen" style="color:#ec4899">★★★★★</div>
              <strong style="color:#0f172a">Kundinnenstimmen</strong>
              <span class="sub">· Vorher–Nachher</span>
            </div>

            <div id="leadSection" style="margin-top:8px">
              <h3 style="margin:12px 0 4px 0">Schnellstart</h3>
              <p class="sub" style="margin:0 0 12px 0">Einmal Daten eintragen – dann übernimmt unsere Assistenz <b>Banu</b> für dich.</p>

              <div class="trust" style="margin-top:12px">
                <span>In Duisburg</span><span>Hygiene geprüft</span><span style="grid-column:1/span 2">Female Expert Team</span>
              </div>

              <form id="leadFormInline" data-lead>
                <div class="field"><label>Vorname *</label><input name="first_name" required></div>
                <div class="field"><label>Nachname *</label><input name="last_name" required></div>
                <div class="field"><label>Telefon *</label><input name="phone" inputmode="tel" required></div>
                <div class="field"><label>Behandlung (optional)</label><input name="treatment" placeholder="z. B. Korean Skin Glow"></div>
                <button class="btn primary" type="submit">Weiter zu Banu</button>
                <div class="sub" style="margin-top:8px">Mit Klick stimmst du der Verarbeitung deiner Daten zur Terminvergabe zu.</div>
              </form>

              <div class="offer" style="margin-top:14px">
                <div class="sub" style="text-transform:uppercase;letter-spacing:.08em;font-weight:700">Neukunden-Angebot</div>
                <div style="font-size:24px;font-weight:800;margin-top:6px">Microneedling für nur 99€</div>
                <div class="sub" style="margin-top:6px">75 Min · Beratung im Wert von 35€ inklusive</div>
                <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
                  <span class="pill" style="background:#fff">Keine Ausfallzeit</span>
                  <span class="pill" style="background:#fff">Nur 10 Plätze verfügbar</span>
                </div>
              </div>
            </div>
          </div>

          <!-- RIGHT: Vorher/Nachher + (später) Chat -->
          <div>
            <div class="slider" aria-label="Vorher-Nachher" style="margin-bottom:12px">
              <img src="https://images.unsplash.com/photo-1631718864926-8a6c9a6090f2?q=80&w=1200&auto=format&fit=crop" alt="Vorher">
              <div id="afterLayer" style="position:absolute;inset:0;overflow:hidden;clip-path:inset(0 50% 0 0)">
                <img src="https://images.unsplash.com/photo-1607779097040-26d5f0a4bd2b?q=80&w=1200&auto=format&fit=crop" alt="Nachher">
              </div>
              <div class="divider" aria-hidden="true"></div>
              <input type="range" aria-label="Vorher-Nachher Schieberegler" min="0" max="100" value="50"
                     oninput="document.getElementById('afterLayer').style.clipPath='inset(0 '+(100-this.value)+'% 0 0)';">
            </div>

            <!-- Chat-Card (wird nach Lead sichtbar) -->
            <section id="chatCard" class="card">
              <div class="chatHead">
                <div class="agent" aria-hidden="true"></div>
                <div>
                  <div style="font-weight:800">Banu</div>
                  <div class="sub" style="margin-top:-2px">Termin-Assistenz</div>
                </div>
                <div class="sub" style="margin-left:auto">Antwortet i. d. R. <b>unter 1 Min.</b></div>
              </div>
              <div class="chatWin" id="chatWin" aria-live="polite">
                <div class="stickyRecap" id="recap" style="display:none">
                  <span class="pillSmall" id="recapPref" style="display:none"></span>
                </div>
                <div class="bubbles" id="bubbles"></div>
              </div>
              <div class="inputBar">
                <input id="chatInput" placeholder="Nachricht eingeben…">
                <button id="chatSend">Senden</button>
              </div>
            </section>
          </div>
        </div>
      </section>
    </main>

    <!-- Bottom bar -->
    <div class="bar" role="region" aria-label="Aktionen">
      <div class="inner max">
        <button class="btn" id="openMore">Mehr Infos</button>
        <button class="btn primary" id="openForm" data-test="cta-booking">Termin buchen</button>
        <div class="grow"></div>
        <nav class="footLinks">
          <a href="/impressum">Impressum</a>
          <a href="/datenschutz">Datenschutz</a>
        </nav>
      </div>
    </div>
  </div>

  <!-- Overlay -->
  <div id="overlay" class="overlay" aria-live="polite" aria-busy="true">
    <div>
      <div class="spinner"></div>
      <div style="font-weight:700;margin-bottom:4px">Einen Moment …</div>
      <div class="sub js-overlay-text">Ich leite dich gleich an unsere Terminassistenz weiter.</div>
    </div>
  </div>

  <!-- Mehr Infos modal -->
  <div id="moreModal" class="sheet" role="dialog" aria-modal="true" aria-labelledby="moreTitle" style="display:none">
    <div class="panel max">
      <div style="width:44px;height:4px;background:#e2e8f0;border-radius:999px;margin:6px auto 10px"></div>
      <h2 id="moreTitle" style="margin:0 0 8px 0;font-size:20px;font-weight:800">Microneedling – auf einen Blick</h2>
      <ul class="sub" style="padding-left:16px;margin:0">
        <li style="margin:6px 0">Verfeinert Poren und glättet die Hautstruktur</li>
        <li style="margin:6px 0">Mildert feine Aknenarben & Pigmentunregelmäßigkeiten</li>
        <li style="margin:6px 0">Regt die Kollagenbildung an</li>
        <li style="margin:6px 0">Kaum Ausfallzeit – direkt wieder einsatzfähig</li>
        <li style="margin:6px 0">Inklusive Hautanalyse & Pflegeplan</li>
      </ul>
      <div style="display:flex;gap:10px;margin-top:12px">
        <button class="btn" id="closeMore">Schließen</button>
        <button class="btn primary" id="openForm2">Termin wählen</button>
      </div>
    </div>
  </div>

  <!-- Form Sheet -->
  <div id="formSheet" class="sheet" role="dialog" aria-modal="true" aria-labelledby="formTitle" style="display:none">
    <div class="panel max">
      <div style="width:44px;height:4px;background:#e2e8f0;border-radius:999px;margin:6px auto 10px"></div>
      <h2 id="formTitle" style="margin:0 0 8px 0;font-size:20px;font-weight:800">Kurz eintragen</h2>
      <p class="sub" style="margin:0 0 12px 0">Wir nutzen deine Daten nur zur Terminvergabe.</p>
      <form id="leadFormSheet" data-lead novalidate>
        <div style="display:flex;gap:10px">
          <div class="field" style="flex:1"><label>Vorname</label><input required name="first_name" autocomplete="given-name"></div>
          <div class="field" style="flex:1"><label>Nachname</label><input required name="last_name" autocomplete="family-name"></div>
        </div>
        <div class="field"><label>Telefon</label><input required name="phone" inputmode="tel" autocomplete="tel"></div>
        <div class="field"><label>E-Mail (optional)</label><input name="email" type="email" autocomplete="email"></div>
        <div style="display:flex;gap:10px;margin-top:14px">
          <button type="button" class="btn" id="closeForm">Abbrechen</button>
          <button class="btn primary" type="submit">Weiter</button>
        </div>
      </form>
    </div>
  </div>

  <script defer>
    /* ===== CONFIG ===== */
    const N8N_LEAD_URL = "https://beautyholic.app.n8n.cloud/webhook/lead-submit";
    const N8N_CHAT_URL = "https://beautyholic.app.n8n.cloud/webhook/chat-message";
    const SESSION_ID = (crypto?.randomUUID?.() || Date.now().toString(36)+'-'+Math.random().toString(36).slice(2));
    let LEAD_ID = null;

    /* ===== HELPERS ===== */
    const $  = (s)=>document.querySelector(s);
    const $$ = (s)=>Array.from(document.querySelectorAll(s));
    const sleep = (ms)=>new Promise(r=>setTimeout(r,ms));
    const overlay = $("#overlay");
    const overlayText = overlay.querySelector(".js-overlay-text");

    async function postPlain(url, obj){
      const res = await fetch(url, { method:"POST", headers:{ "Content-Type":"text/plain" }, body: JSON.stringify(obj) });
      if(!res.ok) throw new Error("HTTP "+res.status);
      try{ return await res.json(); }catch{ return {}; }
    }

    /* ===== UTM ===== */
    const urlParams = new URLSearchParams(location.search);
    const UTM = Object.fromEntries(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].map(k=>[k, urlParams.get(k)||""]));

    /* ===== MODALS & BAR ===== */
    const more = $("#moreModal");
    const formSheet = $("#formSheet");
    $("#openMore").onclick = ()=> more.style.display = "block";
    $("#closeMore").onclick = ()=> more.style.display = "none";
    $("#openForm2").onclick = ()=> { more.style.display="none"; openForm(); };
    const openForm  = ()=> formSheet.style.display = "block";
    const closeForm = ()=> formSheet.style.display = "none";
    $("#openForm").onclick = openForm;
    $("#closeForm").onclick = closeForm;

    /* ===== CHAT RENDERING ===== */
    const chatCard = $("#chatCard");
    const chatWin  = $("#chatWin");
    const bubbles  = $("#bubbles");
    const recap    = $("#recap");
    const recapPref= $("#recapPref");

    function autoscroll(){ chatWin.scrollTop = chatWin.scrollHeight; }
    function renderBot(text,{glow=true}={}){
      const b = document.createElement('div'); b.className='bot'; b.textContent = text; if(glow) b.classList.add('glow'); bubbles.appendChild(b); autoscroll();
    }
    function renderUser(text){
      const u = document.createElement('div'); u.className='user'; u.textContent = text; bubbles.appendChild(u); autoscroll();
    }
    function renderTyping(){
      const w = document.createElement('div'); w.className='bot'; w.innerHTML = '<span class="typing"><span class="dot"></span><span class="dot"></span><span class="dot"></span></span>'; bubbles.appendChild(w); autoscroll(); return w;
    }
    function removeNode(n){ n?.parentNode?.removeChild(n); }

    function renderOptions(arr){
      const box = document.createElement('div'); box.className='bot';
      box.innerHTML = `<div style="font-weight:800;margin-bottom:6px">Wähle aus:</div><div class="options"></div>`;
      const wrap = box.querySelector('.options');
      arr.forEach(o=>{
        const b = document.createElement('button'); b.className='chip'; b.textContent=o.label;
        b.onclick = async ()=>{
          renderUser(o.label);
          wrap.querySelectorAll('button').forEach(x=>x.disabled=true);
          const t = renderTyping(); await sleep(500);
          try{
            const r = await postPlain(N8N_CHAT_URL, { session_id:SESSION_ID, lead_id:LEAD_ID, message:o.id });
            removeNode(t); renderResponse(r);
          }catch{ removeNode(t); renderBot('Netzwerk kurz langsam – versuche es gleich nochmal.'); }
        };
        wrap.appendChild(b);
      });
      bubbles.appendChild(box); autoscroll();
    }

    function renderSlots(arr){
      const box = document.createElement('div'); box.className='bot glow';
      box.innerHTML = `<div style="font-weight:800;margin-bottom:6px">Hier sind freie Zeiten:</div><div class="slots"></div>`;
      const wrap = box.querySelector('.slots');
      arr.forEach(s=>{
        const b = document.createElement('button'); b.className='slot'; b.textContent=s.label;
        b.onclick = async ()=>{
          renderUser(s.label);
          wrap.querySelectorAll('button').forEach(x=>x.disabled=true);
          b.classList.add('active');
          const t = renderTyping(); await sleep(700);
          try{
            const r = await postPlain(N8N_CHAT_URL, { session_id:SESSION_ID, lead_id:LEAD_ID, message:s.id });
            removeNode(t); renderResponse(r);
          }catch{ removeNode(t); renderBot('Konnten den Slot nicht sichern. Tippe „Erneut prüfen“.'); }
        };
        wrap.appendChild(b);
      });
      bubbles.appendChild(box); autoscroll();
    }

    function renderResponse(resp){
      (resp?.messages || []).forEach(async (m)=>{
        const delay = Math.min(1500, 600 + ((m.text||'').length * 20));
        const t = renderTyping(); await sleep(Math.max(700, delay)); removeNode(t);
        if(m.type==="text"){ renderBot(m.text); }
        else if(m.type==="options"){ renderOptions(m.options||[]); }
        else if(m.type==="slots"){ renderSlots(m.slots||[]); }
      });
      if(resp?.debug){ renderBot('debug: '+String(resp.debug), {glow:false}); }
    }

    /* ===== CHAT INPUT ===== */
    $("#chatSend").onclick = ()=>{
      const inp = $("#chatInput"); const msg = inp.value.trim(); if(!msg) return;
      renderUser(msg); inp.value = "";
      sendChat(msg);
    };
    $("#chatInput").addEventListener("keydown", (ev)=>{ if(ev.key==="Enter"){ ev.preventDefault(); $("#chatSend").click(); } });

    async function sendChat(message){
      const t = renderTyping();
      try{
        const resp = await postPlain(N8N_CHAT_URL, { session_id:SESSION_ID, lead_id:LEAD_ID, message });
        removeNode(t); renderResponse(resp);
      }catch{
        removeNode(t); renderBot('Es gab ein Verbindungsproblem. Bitte kurz neu laden oder später erneut versuchen.');
      }
    }

    /* ===== LEAD SUBMIT (beide Formulare) ===== */
    $$('#leadFormInline, #leadFormSheet').forEach(form=>{
      form?.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const data = Object.fromEntries(new FormData(e.target).entries());

        overlayText.textContent = "Ich prüfe kurz deine Angaben …";
        overlay.classList.add('is-active');

        try{
          const leadResp = await postPlain(N8N_LEAD_URL, { session_id:SESSION_ID, form_data:data, consent:true, ...UTM });
          LEAD_ID = leadResp?.lead_id || null;

          // UI
          $("#intro").style.display = "none";
          chatCard.style.display = "block";
          formSheet.style.display = "none";

          // Begrüßung + Präferenz-Buttons
          const t = renderTyping(); await sleep(900); removeNode(t);
          renderBot('Ich helfe dir bei der Terminfindung. Magst du Vormittag, Nachmittag oder Abend?');
          const opts = document.createElement('div'); opts.className='bot';
          opts.innerHTML = `
            <div style="font-weight:800;margin-bottom:6px">Wähle aus:</div>
            <div class="options">
              <button class="chip" data-pref="morning">Vormittag</button>
              <button class="chip" data-pref="afternoon">Nachmittag</button>
              <button class="chip" data-pref="evening">Abend</button>
            </div>`;
          bubbles.appendChild(opts); autoscroll();
          opts.querySelectorAll('.chip').forEach(btn=>{
            btn.onclick = async ()=>{
              renderUser(btn.textContent);
              opts.querySelectorAll('.chip').forEach(c=>c.disabled=true);
              recap.style.display='flex'; recapPref.style.display='inline-block';
              recapPref.textContent = 'Präferenz: '+btn.textContent;

              const t2 = renderTyping(); await sleep(500);
              try{
                const resp = await postPlain(N8N_CHAT_URL, { session_id:SESSION_ID, lead_id:LEAD_ID, message:'pref_'+btn.dataset.pref });
                removeNode(t2); renderResponse(resp);
              }catch{ removeNode(t2); renderBot('Ich prüfe gerade deinen Kalender… bitte einen Moment.'); }
            };
          });
        }catch{
          alert("Ups – etwas ist schief gelaufen. Bitte später erneut probieren.");
        }finally{
          overlay.classList.remove('is-active');
        }
      });
    });
  </script>
</body>
</html>
